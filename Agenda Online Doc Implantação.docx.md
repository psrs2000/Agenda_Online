**üìö Manual Completo de Implanta√ß√£o**

**Sistema de Agendamento Online**

**üéØ Objetivo:** Implantar um sistema completo de agendamento online com painel administrativo, integra√ß√£o Google Calendar e backup autom√°tico.

---

**üìã Pr√©-requisitos**

Antes de come√ßar, voc√™ precisar√° criar contas nas seguintes plataformas:

* ‚úÖ **Conta Google** (Gmail)  
* ‚úÖ **Conta GitHub**  
* ‚úÖ **Conta Streamlit Cloud** (gratuita)

**‚è±Ô∏è Tempo estimado:** 45-60 minutos  
**üí∞ Custo:** Gratuito (todas as ferramentas usadas s√£o gratuitas)

---

**üèóÔ∏è Etapa 1: Configura√ß√£o do GitHub**

**1.1 Criar Reposit√≥rio**

1. **Acesse:** https://github.com  
2. **Fa√ßa login** na sua conta  
3. **Clique em "New repository"** (bot√£o verde no canto superior direito)  
4. **Configure:**   
   * **Repository name:** sistema-agendamento  
   * **Description:** Sistema de Agendamento Online  
   * **Visibilidade:** ‚úÖ **Public** (deixe p√∫blico)  
   * **Initialize:** ‚úÖ Marque "Add a README file"  
5. **Clique em "Create repository"**

**1.2 Fazer Upload dos Arquivos**

1. **No seu reposit√≥rio criado**, clique em "Add file" ‚Üí "Upload files"  
2. **Arraste o arquivo app.py** para a √°rea de upload  
3. **Crie o arquivo requirements.txt:**   
   * Clique em "Add file" ‚Üí "Create new file"  
   * **Nome:** requirements.txt  
   * **Conte√∫do:**  
4. streamlit\>=1.28.0  
5. pandas\>=1.5.0  
6. google-auth\>=2.17.0  
7. google-auth-oauthlib\>=1.0.0  
8. google-auth-httplib2\>=0.1.0  
9. google-api-python-client\>=2.88.0  
10. requests\>=2.28.0  
11. **Commit as mudan√ßas:**   
    * **Commit message:** Upload inicial do sistema  
    * Clique em "Commit changes"

**1.3 Obter Token do GitHub**

1. **Clique na sua foto** (canto superior direito) ‚Üí "Settings"  
2. **No menu esquerdo:** "Developer settings" (√∫ltimo item)  
3. **Clique em:** "Personal access tokens" ‚Üí "Tokens (classic)"  
4. **Clique em:** "Generate new token" ‚Üí "Generate new token (classic)"  
5. **Configure:**   
   * **Note:** Sistema Agendamento  
   * **Expiration:** No expiration  
   * **Scopes:** ‚úÖ Marque apenas repo (acesso completo aos reposit√≥rios)  
6. **Clique em "Generate token"**  
7. **‚ö†Ô∏è IMPORTANTE:** Copie o token e guarde em local seguro (voc√™ s√≥ ver√° uma vez\!)

---

**üîê Etapa 2: Configura√ß√£o do Google Cloud**

**2.1 Criar Projeto no Google Cloud**

1. **Acesse:** https://console.cloud.google.com  
2. **Fa√ßa login** com sua conta Google  
3. **Clique em "Select a project"** (canto superior esquerdo)  
4. **Clique em "NEW PROJECT"**  
5. **Configure:**   
   * **Project name:** Sistema Agendamento  
   * **Organization:** Deixe como est√°  
6. **Clique em "CREATE"**  
7. **Aguarde cria√ß√£o** e selecione o projeto criado

**2.2 Habilitar APIs Necess√°rias**

1. **No menu esquerdo:** "APIs & Services" ‚Üí "Library"  
2. **Busque e habilite as seguintes APIs:**

   **üìÖ Google Calendar API:**

   * Digite "Calendar API" na busca  
   * Clique em "Google Calendar API"  
   * Clique em "ENABLE"

   **üìß Gmail API (opcional \- para emails):**

   * Digite "Gmail API" na busca  
   * Clique em "Gmail API"  
   * Clique em "ENABLE"

**2.3 Configurar Tela de Consentimento OAuth**

1. **V√° para:** "APIs & Services" ‚Üí "OAuth consent screen"  
2. **Selecione:** ‚ö™ External  
3. **Clique em "CREATE"**  
4. **Preencha os campos obrigat√≥rios:**   
   * **App name:** Sistema de Agendamento  
   * **User support email:** seu-email@gmail.com  
   * **Developer contact information:** seu-email@gmail.com  
5. **Clique em "SAVE AND CONTINUE"**  
6. **Na tela "Scopes":** Clique em "SAVE AND CONTINUE" (sem adicionar nada)  
7. **Na tela "Test users":**   
   * Clique em "ADD USERS"  
   * Adicione seu pr√≥prio email  
   * Clique em "SAVE AND CONTINUE"  
8. **Revise e clique em "BACK TO DASHBOARD"**

**2.4 Criar Credenciais OAuth**

1. **V√° para:** "APIs & Services" ‚Üí "Credentials"  
2. **Clique em "+ CREATE CREDENTIALS"** ‚Üí "OAuth client ID"  
3. **Configure:**   
   * **Application type:** Web application  
   * **Name:** Sistema Agendamento Web  
   * **Authorized redirect URIs:**   
     * Clique em "ADD URI"  
     * Adicione: http://localhost:8080/callback  
     * Clique em "ADD URI" novamente  
     * Adicione: https://developers.google.com/oauthplayground  
4. **Clique em "CREATE"**  
5. **‚ö†Ô∏è IMPORTANTE:** Anote o **Client ID** e **Client Secret**

**2.5 Obter Refresh Token**

1. **Acesse:** https://developers.google.com/oauthplayground  
2. **No canto direito superior:** Clique na engrenagem ‚öôÔ∏è  
3. **Marque:** ‚úÖ "Use your own OAuth credentials"  
4. **Preencha:**   
   * **OAuth Client ID:** (cole o Client ID da etapa anterior)  
   * **OAuth Client secret:** (cole o Client Secret da etapa anterior)  
5. **Feche a configura√ß√£o**  
6. **No lado esquerdo:**   
   * Na caixa de busca, digite: https://www.googleapis.com/auth/calendar  
   * Clique no resultado  
   * Clique em "Authorize APIs"  
7. **Fa√ßa login** com sua conta Google  
8. **Aceite as permiss√µes**  
9. **Clique em "Exchange authorization code for tokens"**  
10. **‚ö†Ô∏è IMPORTANTE:** Copie o **Refresh token** que aparecer

---

**‚òÅÔ∏è Etapa 3: Configura√ß√£o do Streamlit Cloud**

**3.1 Criar Conta no Streamlit Cloud**

1. **Acesse:** https://share.streamlit.io  
2. **Clique em "Sign up"**  
3. **Fa√ßa login com GitHub** (recomendado)  
4. **Autorize o Streamlit** a acessar sua conta GitHub

**3.2 Fazer Deploy da Aplica√ß√£o**

1. **No Streamlit Cloud**, clique em "New app"  
2. **Configure:**   
   * **Repository:** seu-usuario/sistema-agendamento  
   * **Branch:** main  
   * **Main file path:** app.py  
   * **App URL:** sistema-agendamento-\[seu-nome\] (ser√° gerado automaticamente)  
3. **Clique em "Deploy\!"**  
4. **‚ö†Ô∏è A aplica√ß√£o ir√° falhar inicialmente** \- isso √© normal\!

**3.3 Configurar Secrets**

1. **Na p√°gina da sua app**, clique em "‚öôÔ∏è Settings" (canto inferior direito)  
2. **Clique em "Secrets"**  
3. **Cole o seguinte conte√∫do** (substitua os valores pelos seus):

\# Configura√ß√µes do Sistema  
ADMIN\_PASSWORD \= "sua\_senha\_admin\_aqui"  
ADMIN\_URL\_KEY \= "chave\_secreta\_admin"

\# GitHub Backup  
GITHUB\_TOKEN \= "seu\_token\_github\_aqui"  
GITHUB\_REPO \= "seu-usuario/sistema-agendamento"  
GITHUB\_BRANCH \= "main"  
CONFIG\_FILE \= "configuracoes.json"

\# Google Calendar  
GOOGLE\_CLIENT\_ID \= "seu\_client\_id\_aqui.apps.googleusercontent.com"  
GOOGLE\_CLIENT\_SECRET \= "seu\_client\_secret\_aqui"  
GOOGLE\_REFRESH\_TOKEN \= "seu\_refresh\_token\_aqui"  
GOOGLE\_CALENDAR\_ID \= "primary"

4. **Substitua os valores:**  
   * **sua\_senha\_admin\_aqui**: Crie uma senha forte para o painel admin  
   * **chave\_secreta\_admin**: Crie uma chave secreta (ex: admin123456)  
   * **seu\_token\_github\_aqui**: Cole o token do GitHub (Etapa 1.3)  
   * **seu-usuario**: Seu nome de usu√°rio do GitHub  
   * **seu\_client\_id\_aqui**: Client ID do Google (Etapa 2.4)  
   * **seu\_client\_secret\_aqui**: Client Secret do Google (Etapa 2.4)  
   * **seu\_refresh\_token\_aqui**: Refresh Token do Google (Etapa 2.5)  
5. **Clique em "Save"**

**3.4 Reiniciar a Aplica√ß√£o**

1. **Clique em "Reboot app"** (bot√£o no canto inferior direito)  
2. **Aguarde alguns minutos** para o deploy completar  
3. **Sua aplica√ß√£o estar√° funcionando\!**

---

**üîß Etapa 4: Configura√ß√£o Inicial do Sistema**

**4.1 Acessar o Painel Administrativo**

1. **Acesse sua aplica√ß√£o:** https://seu-app.streamlit.app  
2. **Para acessar o admin, adicione no final da URL:**   
3. ?admin=chave\_secreta\_admin

   **Exemplo:** https://seu-app.streamlit.app?admin=admin123456

4. **Digite a senha** que voc√™ configurou nos secrets  
5. **Voc√™ estar√° no painel administrativo\!**

**4.2 Configurar Informa√ß√µes B√°sicas**

1. **V√° para "‚öôÔ∏è Configura√ß√µes Gerais"**  
2. **Na aba "üìû Contato & Local"**, preencha:   
   * Nome do profissional  
   * Especialidade  
   * Nome da cl√≠nica  
   * Telefone e WhatsApp  
   * Endere√ßo completo  
3. **Na aba "üìÖ Agendamento"**, configure:   
   * Hor√°rios de funcionamento  
   * Dura√ß√£o das consultas  
   * Anteced√™ncia m√≠nima  
   * Dias dispon√≠veis no futuro  
4. **Clique em "üíæ Salvar Todas as Configura√ß√µes"**

**4.3 Configurar Dias de Funcionamento**

1. **V√° para "üìÖ Configurar Agenda"**  
2. **Selecione os dias** da semana que voc√™ atende  
3. **Clique em "üíæ Salvar Dias"**

**4.4 Testar o Sistema**

1. **Abra uma aba an√¥nima** no navegador  
2. **Acesse sua aplica√ß√£o** (sem o ?admin=)  
3. **Teste fazer um agendamento**  
4. **Volte ao painel admin** e verifique se o agendamento apareceu

---

**üìß Etapa 5: Configura√ß√£o de Email (Opcional)**

**5.1 Configurar Gmail para Envio Autom√°tico**

1. **No painel admin**, v√° para "‚öôÔ∏è Configura√ß√µes Gerais" ‚Üí aba "üìß Email"  
2. **Marque:** ‚úÖ "Ativar envio autom√°tico de emails"  
3. **Configure:**   
   * **Email do sistema:** seu-email@gmail.com  
   * **Servidor SMTP:** smtp.gmail.com  
   * **Porta SMTP:** 587

**5.2 Criar Senha de App no Gmail**

1. **Acesse:** https://myaccount.google.com  
2. **V√° para:** "Security" ‚Üí "2-Step Verification"  
3. **Configure a verifica√ß√£o em 2 etapas** (se ainda n√£o tiver)  
4. **Depois, v√° para:** "Security" ‚Üí "App passwords"  
5. **Crie uma senha de app:**   
   * **App:** Mail  
   * **Device:** Other (custom name)  
   * **Nome:** Sistema Agendamento  
6. **Use essa senha** no campo "Senha do email" no sistema

**5.3 Testar Email**

1. **No painel admin**, na configura√ß√£o de email  
2. **Digite seu email** no campo "Email para teste"  
3. **Clique em "üìß Enviar Email Teste"**  
4. **Verifique sua caixa de entrada**

---

**üé® Etapa 6: Personaliza√ß√£o e Ajustes Finais**

**6.1 Personalizar Mensagens de Email**

1. **No painel admin:** "‚öôÔ∏è Configura√ß√µes" ‚Üí "üìß Email"  
2. **Edite o template de confirma√ß√£o** com sua mensagem personalizada  
3. **Use as vari√°veis:** {nome}, {data}, {horario}, {local}

**6.2 Configurar Bloqueios**

1. **V√° para "üóìÔ∏è Gerenciar Bloqueios"**  
2. **Configure:**   
   * **Dias espec√≠ficos:** Feriados, faltas pontuais  
   * **Per√≠odos:** F√©rias, viagens  
   * **Hor√°rios permanentes:** Almo√ßo, intervalos

**6.3 Configurar Backup Autom√°tico**

1. **No painel admin:** "‚öôÔ∏è Configura√ß√µes" ‚Üí "üìß Email"  
2. **Ative o backup no GitHub**  
3. **Configure backup por email** (opcional)

---

**‚úÖ Checklist Final**

**üîç Verifica√ß√µes Obrigat√≥rias**

* \[ \] Aplica√ß√£o carrega sem erros  
* \[ \] Consegue acessar painel admin com ?admin=sua\_chave  
* \[ \] Agendamento funciona na interface p√∫blica  
* \[ \] Agendamentos aparecem no painel admin  
* \[ \] Google Calendar sincroniza (se configurado)  
* \[ \] Emails s√£o enviados (se configurado)  
* \[ \] Backup GitHub funciona

**üéØ URLs Importantes**

**Anote essas URLs importantes:**

* **Sistema p√∫blico:** https://seu-app.streamlit.app  
* **Painel admin:** https://seu-app.streamlit.app?admin=sua\_chave  
* **GitHub:** https://github.com/seu-usuario/sistema-agendamento  
* **Streamlit Cloud:** https://share.streamlit.io

---

**üÜò Solu√ß√£o de Problemas**

**‚ùå App n√£o carrega / Erro de depend√™ncias**

**Solu√ß√£o:**

1. Verifique se o requirements.txt est√° correto  
2. No Streamlit Cloud: Settings ‚Üí Reboot app  
3. Aguarde 2-3 minutos para nova build

**‚ùå Erro "Google Calendar API not enabled"**

**Solu√ß√£o:**

1. Acesse Google Cloud Console  
2. APIs & Services ‚Üí Library  
3. Busque "Google Calendar API" e habilite

**‚ùå Erro de autentica√ß√£o Google**

**Solu√ß√£o:**

1. Verifique se Client ID e Client Secret est√£o corretos nos secrets  
2. Verifique se o Refresh Token foi copiado corretamente  
3. Teste novamente no OAuth Playground

**‚ùå Emails n√£o s√£o enviados**

**Solu√ß√£o:**

1. Verifique se a senha de app foi criada corretamente  
2. Teste com outro email para verificar se n√£o est√° indo para spam  
3. Use a fun√ß√£o "Testar Email" no painel admin

**‚ùå Backup GitHub n√£o funciona**

**Solu√ß√£o:**

1. Verifique se o token GitHub tem permiss√£o repo  
2. Verifique se o nome do reposit√≥rio est√° correto nos secrets  
3. Teste fazer backup manual no painel admin

---

**üéâ Parab√©ns\!**

Seu sistema de agendamento est√° funcionando\!

**üìö Pr√≥ximos Passos**

1. **Compartilhe o link** com seus clientes  
2. **Configure bloqueios** conforme sua agenda  
3. **Monitore agendamentos** pelo painel admin  
4. **Fa√ßa backups regulares** dos dados

**üîß Manuten√ß√£o**

* **Acesse o painel admin** semanalmente  
* **Verifique backups** mensalmente  
* **Mantenha tokens atualizados** se necess√°rio

---

**üìû D√∫vidas?** Revise cada etapa cuidadosamente. Todos os links e configura√ß√µes foram testados e funcionam corretamente quando seguidos na ordem indicada.

**‚ú® Boa sorte com seu sistema de agendamento\!**

